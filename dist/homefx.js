const sensitivity=.01,updateTime=132,drawTime=66,alpha=.15,occasion=24;document.addEventListener("DOMContentLoaded",_=>{const p=window.innerWidth,b=window.innerHeight;for(var e,i,a,l,d,u,h,m,v,j,f=document.getElementById("chromatic"),g=f.children[0],t=[],r=0;r<3;r++)t.push(g.cloneNode(!0)),t[r].style.position="absolute",t[r].style.top=0,t[r].style.mixBlendMode="screen",t[r].style.textShadow="0 0 1vh",f.appendChild(t[r]);g.style.opacity=0,t[0].style.color="#ff0000",t[1].style.color="#00ff00",t[2].style.color="#0000ff",t[0].style.userSelect="none",t[1].style.userSelect="none",document.addEventListener("mousemove",e=>{t[0].style.left=sensitivity*(e.clientX-.5*p)+"px",t[0].style.top=sensitivity*(e.clientY-.5*b)+"px",t[2].style.left=-sensitivity*(e.clientX-.5*p)+"px",t[2].style.top=-sensitivity*(e.clientY-.5*b)+"px"}),document.querySelectorAll("p").forEach(e=>{e.style.textShadow="0 0 1vh black, 0 0 1vh black, 0 0 1vh black, 0 0 1vh black"});const n=document.createElement("canvas");n.width=window.innerWidth,n.height=window.innerHeight,n.style.zIndex=-10,n.style.margin=0,n.style.position="fixed",n.style.top=0,n.style.left=0,n.style.height="100vh",a=n.getContext("2d"),a.fillStyle="black",a.fillRect(0,0,n.width,n.height),a.globalAlpha=alpha;const s=32,o=Math.ceil(32*n.width/n.height),c=n.height/s;i=[],e=[];for(h=0;h<s;h++){m=[];for(d=0;d<o;d++)v=Math.round(Math.random()),m.push(v);i.push(m)}u=i,l=0,setTimeout(()=>{j=setInterval(()=>{for(var t,r,n=0;n<s;n++)for(t=0;t<o;t++){switch(r=i[n][t]+e[n][t],r){case 0:a.fillStyle="#000";break;case 1:a.fillStyle="#111";break;case 2:a.fillStyle="#222";break}a.fillRect(t*c,n*c,c,c)}},drawTime)},updateTime);const y=setInterval(()=>{e=i,i=[];for(var t,a,r,n=0;n<s;n++){a=[];for(t=0;t<o;t++){const i=e[(n-1+s)%s][(t-1+o)%o]+e[n][(t-1+o)%o]+e[(n+1)%s][(t-1+o)%o]+e[(n-1+s)%s][t]+e[(n+1)%s][t]+e[(n-1+s)%s][(t+1)%o]+e[n][(t+1)%o]+e[(n+1)%s][(t+1)%o];e[n][t]==0&&i==3||e[n][t]==1&&i!=2&&i!=3?a.push(1-e[n][t]):a.push(e[n][t])}i.push(a)}if(l++,l===occasion){l=0,r=!0;staleCheck:for(n=0;n<s;n++)for(t=0;t<o;t++)if(i[n][t]!==u[n][t]){r=!1;break staleCheck}r&&(clearInterval(j),clearInterval(y)),u=i}},updateTime);document.body.appendChild(n)})